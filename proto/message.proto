syntax = "proto2";

package dafs;

message Address
{
    required string ip = 1;
    required int32 port = 2;
}

message MetaData
{
    required string key = 1;
    required string value = 2;
}

message Message
{
    enum MessageType
    {
        SUCCESS = 0;
        FAILURE = 1;
        ALLOCATE_BLOCK = 2;
        READ_BLOCK = 3;
        WRITE_BLOCK = 4;
        DELETE_BLOCK = 5;
        GET_NODE_DETAILS = 6;
        JOIN_CLUSTER = 7;
        REQUEST_JOIN_CLUSTER = 8;
        ACCEPT_JOIN_CLUSTER = 9;
        EXIT_CLUSTER = 10;
        PROPOSE_EXIT_CLUSTER = 11;
        MINUS_EXIT_CLUSTER = 12;
    }
    required Address from_address = 1;
    required Address to_address = 2;
    required MessageType type = 3;
    repeated MetaData metadata = 4;
}
